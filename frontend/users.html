<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Gerenciamento de Usu치rios de Futev칪lei</title>
    <script src="config.js"></script>
    <script src="auth.js"></script>
    <script>
      // 游 Garante que apenas admins possam acessar esta p치gina
      requireAdmin();
    </script>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="css/navbar.css" />
  </head>
  <body>
    <div id="navbar"></div>

    <h1 class="page-title">Gerenciamento de Usu치rios</h1>

    <div class="main-layout">
      <!-- LEFT PANEL - FORM PARA ADICIONAR/EDITAR USER -->
      <div class="left-panel">
        <div class="form-container">
          <h2 id="form-title">Adicionar Usu치rio</h2>

          <form id="user-form">
            <div class="form-group">
              <label for="user_username" class="form-label"
                >Nome de usu치rio</label
              >
              <input
                type="text"
                id="user_username"
                name="user_username"
                class="form-input"
                placeholder="Ex: Pedro"
                required
              />
            </div>

            <div class="form-group">
              <label for="user_email" class="form-label">Email</label>
              <input
                type="email"
                id="user_email"
                name="user_email"
                class="form-input"
                placeholder="Ex: pedro@asc.com"
                required
              />
            </div>

            <div class="form-group" id="password-group">
              <label for="user_password" class="form-label"
                >Senha inicial</label
              >
              <input
                type="password"
                id="user_password"
                class="form-input"
                placeholder="Defina uma senha inicial"
              />
              <span class="form-help"
                >Deixe em branco para manter a senha atual</span
              >
            </div>

            <div class="form-group">
              <label for="user_role" class="form-label">Fun칞칚o</label>
              <select
                id="user_role"
                name="user_role"
                class="form-select"
                required
              >
                <option value="game_inputer">Game Inputer</option>
                <option value="admin">Admin</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-checkbox">
                <input
                  type="checkbox"
                  id="user_active"
                  name="user_active"
                  checked
                />
                <span>Usu치rio ativo</span>
              </label>
            </div>

            <input type="hidden" id="user_email_original" />

            <button type="submit" class="btn btn--primary">
              Salvar Usu치rio
            </button>
          </form>
        </div>

        <p id="status"></p>
      </div>

      <!-- RIGHT PANEL - LISTA DE USERS -->
      <div class="right-panel">
        <div class="table-container">
          <table id="users-table" class="table">
            <thead>
              <tr>
                <th colspan="5" class="table-title">Lista de Usu치rios</th>
              </tr>
              <tr>
                <th>Nome de usu치rio</th>
                <th>Email</th>
                <th>Fun칞칚o</th>
                <th>Ativo</th>
                <th>Criado em</th>
                <th>A칞칫es</th>
              </tr>
            </thead>
            <tbody>
              <!-- Preenchido via users.js -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <script src="navbar.js"></script>
    <script src="utils.js"></script>
    <script type="module" src="forms.js"></script>
    <script type="module" src="dom.js"></script>
    <script type="module" src="userManagement.js"></script>
    <script type="module" src="users.js"></script>
  </body>
</html>

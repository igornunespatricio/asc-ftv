<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Gerenciamento de Usuários de Futevôlei</title>
    <script src="../config.js"></script>
    <script type="module" src="../typescript/auth.js"></script>
    <link rel="stylesheet" href="../css/styles.css" />
    <link rel="stylesheet" href="../css/navbar.css" />
  </head>
  <body>
    <div id="navbar"></div>

    <h1 class="page-title">Gerenciamento de Usuários</h1>

    <div class="main-layout">
      <!-- LEFT PANEL - FORM PARA ADICIONAR/EDITAR USER -->
      <div class="left-panel">
        <div class="form-container">
          <h2 id="form-title">Adicionar Usuário</h2>

          <form id="user-form">
            <div class="form-group">
              <label for="user_username" class="form-label"
                >Nome de usuário</label
              >
              <input
                type="text"
                id="user_username"
                name="user_username"
                class="form-input"
                placeholder="Ex: Pedro"
                required
              />
            </div>

            <div class="form-group">
              <label for="user_email" class="form-label">Email</label>
              <input
                type="email"
                id="user_email"
                name="user_email"
                class="form-input"
                placeholder="Ex: pedro@asc.com"
                required
              />
            </div>

            <div class="form-group" id="password-group">
              <label for="user_password" class="form-label"
                >Senha inicial</label
              >
              <input
                type="password"
                id="user_password"
                class="form-input"
                placeholder="Defina uma senha inicial"
              />
              <span class="form-help"
                >Deixe em branco para manter a senha atual</span
              >
            </div>

            <div class="form-group">
              <label for="user_role" class="form-label">Função</label>
              <select
                id="user_role"
                name="user_role"
                class="form-select"
                required
              >
                <option value="game_inputer">Game Inputer</option>
                <option value="admin">Admin</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-checkbox">
                <input
                  type="checkbox"
                  id="user_active"
                  name="user_active"
                  checked
                />
                <span>Usuário ativo</span>
              </label>
            </div>

            <input type="hidden" id="user_email_original" />

            <button type="submit" class="btn btn--primary">
              Salvar Usuário
            </button>
          </form>
        </div>

        <p id="status"></p>
      </div>

      <!-- RIGHT PANEL - LISTA DE USERS -->
      <div class="right-panel">
        <div class="table-container">
          <table id="users-table" class="table">
            <thead>
              <tr>
                <th colspan="5" class="table-title">Lista de Usuários</th>
              </tr>
              <tr>
                <th>Nome de usuário</th>
                <th>Email</th>
                <th>Função</th>
                <th>Ativo</th>
                <th>Criado em</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody>
              <!-- Preenchido via users.js -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <script type="module" src="../typescript/navbar.js"></script>
    <script type="module" src="../typescript/utils.js"></script>
    <script type="module" src="../typescript/forms.js"></script>
    <script type="module" src="../typescript/dom.js"></script>
    <script type="module" src="../typescript/userManagement.js"></script>
    <script type="module" src="../typescript/users.js"></script>
  </body>
</html>
